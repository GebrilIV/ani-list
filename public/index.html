<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AniList App</title>
    <!-- CSS -->
    <link id="theme-css" rel="stylesheet" href="assets/css/style.css">
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
    <!-- App Root -->
    <div id="app"></div>

    <!-- Spacer (pousse le footer en bas si la page est courte) -->
    <div class="footer-spacer" aria-hidden="true"></div>

    <!-- Footer (liens utiles) -->
    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-col">
                <div class="footer-col-title">GebrilIV</div>
                <a class="footer-link" href="https://github.com/GebrilIV" target="_blank" rel="noopener noreferrer">GitHub : GebrilIV</a>
                <a class="footer-link" href="https://namemc.com/profile/PachaIV.2" target="_blank" rel="noopener noreferrer">NameMC : PachaIV</a>
            </div>

            <div class="footer-col">
                <div class="footer-col-title">Info</div>
                <a class="footer-link" href="https://anilist.co/" target="_blank" rel="noopener noreferrer">AniList API</a>
                <a class="footer-link" href="https://vuejs.org/" target="_blank" rel="noopener noreferrer">Vue.js</a>
                <a class="footer-link" href="https://www.slimframework.com/" target="_blank" rel="noopener noreferrer">Slim 4</a>
                <a class="footer-link" href="https://github.com/GebrilIV/ani-list" target="_blank" rel="noopener noreferrer">Repo GitHub</a>
            </div>

            <div class="footer-col">
                <div class="footer-col-title">Style</div>
                <label class="footer-muted" for="css-theme-select">Choisir un CSS :</label>
                <select id="css-theme-select" class="footer-select">
                    <option value="assets/css/style.css">Classic (style.css)</option>
                    <option value="assets/css/style2.css">Mobil (style2.css)</option>
                </select>
                <span class="footer-muted">(Le choix est sauvegardé)</span>
            </div>
        </div>
    </footer>

    <!-- Models JS -->
    <script src="assets/js/models.js"></script>
    <!-- API JS -->
    <script src="assets/js/api.js"></script>
    <!-- App Logic JS -->
    <script src="assets/js/app.js"></script>

    <!-- CSS Switcher (footer) -->
    <script>
        (function () {
            const link = document.getElementById('theme-css');
            const select = document.getElementById('css-theme-select');
            if (!link || !select) return;

            const storageKey = 'cssThemeHref';
            const defaultHref = link.getAttribute('href') || 'assets/css/style.css';
            const savedHref = localStorage.getItem(storageKey);

            // Applique le thème sauvegardé au chargement (si présent)
            if (savedHref) {
                link.setAttribute('href', savedHref);
            }

            // Synchronise la valeur du select (même si on est resté sur le défaut)
            select.value = link.getAttribute('href') || defaultHref;

            select.addEventListener('change', function () {
                const href = select.value;
                link.setAttribute('href', href);
                localStorage.setItem(storageKey, href);
            });
        })();
    </script>
</body>
</html>
